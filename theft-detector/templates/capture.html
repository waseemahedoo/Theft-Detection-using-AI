<!DOCTYPE html>
<html>
<body>
<video id="video" autoplay></video>
<button onclick="captureFrame()">Capture Frame</button>

<script>
var video = document.getElementById('video');

navigator.mediaDevices.getUserMedia({ video: true })
    .then(function(stream) {
        video.srcObject = stream;
    })
    .catch(function(err) {
        console.log("An error occurred: " + err);
    });

function captureFrame() {
    var canvas = document.createElement('canvas');
    canvas.getContext('2d').drawImage(video, 0, 0);
    var frame = canvas.toDataURL('image/png').split(',')[1];
    fetch('/save', {
        method: 'POST',
        headers: {'Content-Type': 'application/x-www-form-urlencoded'},
        body: 'frame=' + frame
    });
}
</script>

</body>
</html>
